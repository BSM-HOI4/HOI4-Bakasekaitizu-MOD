focus_tree = {
    id = generic_focus_air
    
    focus = {
        id = aviation_effort
        icon = GFX_goal_generic_build_airforce
        x = 5
        y = 0
        cost = 10
        
        search_filters = {   FOCUS_FILTER_RESEARCH }
        
        available_if_capitulated = yes
        
        
        complete_tooltip = {
            air_experience = 25
            if = { limit = { has_country_flag = aviation_effort_AB }
                add_building_construction = {
                    type = air_base
                    level = 3
                    instant_build = yes
                }
            }
            add_tech_bonus = {
                name = air_doc_bonus
                bonus = 1.0
                uses = 2
                category = air_doctrine
            }
        }
        
        completion_reward = {
            air_experience = 25
            
            if = {
                limit = {
                    capital_scope = {
                        NOT = {
                            free_building_slots = {
                                building = air_base
                                size > 1
                            }
                        }
                    }
                }
                random_owned_controlled_state = {
                    limit = {
                        free_building_slots = {
                            building = air_base
                            size > 1
                        }
                    }
                    add_building_construction = {
                        type = air_base
                        level = 3
                        instant_build = yes
                    }
                    ROOT = { set_country_flag = aviation_effort_AB }
                }
            }
            if = {
                limit = {
                    capital_scope = {
                        free_building_slots = {
                            building = air_base
                            size > 1
                        }
                    }
                }
                capital_scope = {
                    add_building_construction = {
                        type = air_base
                        level = 3
                        instant_build = yes
                    }
                    ROOT = { set_country_flag = aviation_effort_AB }
                }
            }
            add_tech_bonus = {
                name = air_doc_bonus
                bonus = 1.0
                uses = 2
                category = air_doctrine
            }
        }
    }
    
    focus = {
        id = fighter_focus
        icon = GFX_goal_generic_air_fighter
        prerequisite = { focus = aviation_effort }
        mutually_exclusive = { focus = bomber_focus }
        x = -1
        y = 1
        relative_position_id = aviation_effort
        cost = 10
        
        search_filters = {  FOCUS_FILTER_RESEARCH }
        
        available_if_capitulated = yes
        
        completion_reward = {
            add_tech_bonus = {
                name = air_doc_bonus
                bonus = 0.5
                uses = 1
                category = air_doctrine
            }
            set_technology = {
                early_fighter = 1
            }
            add_tech_bonus = {
                name = fighter_bonus
                bonus = 1.0
                uses = 2
                technology = fighter1
                technology = fighter2
                technology = fighter3
                technology = heavy_fighter1
                technology = heavy_fighter2
                technology = heavy_fighter3
            }
        }
    }
    focus = {
        id = bomber_focus
        icon = GFX_goal_generic_air_bomber
        prerequisite = { focus = aviation_effort }
        mutually_exclusive = { focus = fighter_focus }
        x = 1
        y = 1
        relative_position_id = aviation_effort
        cost = 10
        
        search_filters = {  FOCUS_FILTER_RESEARCH }
        
        available_if_capitulated = yes
        
        completion_reward = {
            add_tech_bonus = {
                name = air_doc_bonus
                bonus = 0.5
                uses = 1
                category = air_doctrine
            }
            add_tech_bonus = {
                name = bomber_bonus
                bonus = 1.0
                uses = 2
                technology = strategic_bomber1
                technology = strategic_bomber2
                technology = strategic_bomber3
                category = tactical_bomber
            }
        }
    }
    
    focus = {
        id = aviation_effort_2
        icon = GFX_goal_generic_air_doctrine
        prerequisite = { focus = bomber_focus focus = fighter_focus }
        x = -1
        y = 1
        relative_position_id = bomber_focus
        cost = 10
        
        search_filters = {   FOCUS_FILTER_RESEARCH }
        
        available_if_capitulated = yes
        
        complete_tooltip = {
            air_experience = 50
            if = { limit = { has_country_flag = aviation_effort_2_AB }
                add_building_construction = {
                    type = air_base
                    level = 3
                    instant_build = yes
                }
            }
            add_tech_bonus = {
                name =  air_doc_bonus
                bonus = 1.0
                uses = 2
                category = air_doctrine
            }
        }
        completion_reward = {
            air_experience = 50
            if = {
                limit = {
                    capital_scope = {
                        OR = {
                            NOT = { is_controlled_by = ROOT }
                            NOT = {
                                free_building_slots = {
                                    building = air_base
                                    size > 1
                                }
                            }
                        }
                    }
                }
                random_owned_controlled_state = {
                    limit = {
                        free_building_slots = {
                            building = air_base
                            size > 1
                        }
                    }
                    add_building_construction = {
                        type = air_base
                        level = 3
                        instant_build = yes
                    }
                    ROOT = { set_country_flag = aviation_effort_2_AB }
                }
            }
            if = {
                limit = {
                    capital_scope = {
                        is_controlled_by = ROOT
                        free_building_slots = {
                            building = air_base
                            size > 1
                        }
                    }
                }
                capital_scope = {
                    add_building_construction = {
                        type = air_base
                        level = 3
                        instant_build = yes
                    }
                    ROOT = { set_country_flag = aviation_effort_2_AB }
                }
            }
            add_tech_bonus = {
                name =  air_doc_bonus
                bonus = 1.0
                uses = 2
                category = air_doctrine
            }
        }
    }
    
    focus = {
        id = CAS_effort
        icon = GFX_goal_generic_CAS
        prerequisite = { focus = aviation_effort_2 }
        x = -1
        y = 1
        relative_position_id = aviation_effort_2
        cost = 10
        
        search_filters = {  FOCUS_FILTER_RESEARCH }
        
        available_if_capitulated = yes
        
        completion_reward = {
            add_tech_bonus = {
                name = CAS_bonus
                bonus = 1.0
                ahead_reduction = 1
                uses = 2
                category = cas_bomber
            }
        }
    }
    focus = {
        id = rocket_effort
        icon = GFX_focus_rocketry
        prerequisite = { focus = aviation_effort_2 }
        x = 0
        y = 2
        relative_position_id = aviation_effort_2
        cost = 10
        
        search_filters = {  FOCUS_FILTER_RESEARCH }
        
        available_if_capitulated = yes
        
        completion_reward = {
            add_tech_bonus = {
                name = jet_rocket_bonus
                ahead_reduction = 2
                uses = 2
                category = rocketry
                category = jet_technology
            }
        }
        
        ai_will_do = {
            factor = 1
            modifier = {
                factor = 0.25
                always = yes
            }
        }
    }
    focus = {
        id = NAV_effort
        icon = GFX_goal_generic_air_naval_bomber
        prerequisite = { focus = aviation_effort_2 }
        x = 1
        y = 1
        relative_position_id = aviation_effort_2
        cost = 10
        
        search_filters = {  FOCUS_FILTER_RESEARCH }
        
        available_if_capitulated = yes
        
        completion_reward = {
            add_tech_bonus = {
                name = nav_bomber_bonus
                bonus = 1.0
                ahead_reduction = 1
                uses = 2
                category = naval_bomber
            }
        }
    }
}
